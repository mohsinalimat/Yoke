<!DOCTYPE html>
<!-- <html>
<header></header>

<body>
  <script src="https://www.gstatic.com/firebasejs/8.1.1/firebase-app.js"></script> -->
<!-- Below is the additional script for Firebase Auth -->
<!-- <script src="https://www.gstatic.com/firebasejs/8.1.1/firebase-auth.js"></script>

  <script>
    var firebaseConfig = {
      apiKey: "AIzaSyAzk4x5BukIC0N0yiDC9O4nfe1vn_7GUxM",
      authDomain: "foodapp-4ebf0.firebaseapp.com",
      databaseURL: "https://foodapp-4ebf0.firebaseio.com",
      projectId: "foodapp-4ebf0"
    };
    firebase.initializeApp(firebaseConfig);

    const auth = firebase.auth();
  </script>

  <script src="scripts/index.js"></script>

  <form>
    <input type="email" id="email" />
    <label for="email">Email</label>
    <br>
    <input type="password" id="password" />
    <label for="password">Password</label>
    <br>
    <button id="login-btn">Login</button>
    <button id="logout-btn">Logout</button>
  </form>
  <script>
    const loginBtn = document.querySelector('#login-btn');
    loginBtn.addEventListener('click', e => {
      e.preventDefault();

      const email = document.querySelector('#email').value;
      const password = document.querySelector('#password').value;

      auth.signInWithEmailAndPassword(email, password)
        .then(cred => {
          console.log('Logged in user!');
        })
        .catch(error => {
          console.log(error.message);
        })

      const logoutBtn = document.querySelector('#logout-btn');
      logoutBtn.addEventListener('click', e => {
        e.preventDefault();
        auth.signOut();
        console.log('User signed out!');
      })

      auth.onAuthStateChanged(user => {
        if (user) {
          console.log(user.email + " is logged in!");
        } else {
          console.log('User is logged out!');
        }
      });


    });

  </script>
</body>

</html> -->







<html>

<head>
  <title>Authentication Example</title>
</head>

<body>
  <form>
    <div>
      <input id="email" type="text" placeholder="Email...">
    </div>
    <div>
      <input id="password" type="password" placeholder="Password...">
    </div>
    <div>
      <button id="sign-in">Sign In/Register</button>
      <button id="sign-out">Sign Out</button>
    </div>
  </form>

  <script src="https://www.gstatic.com/firebasejs/live/3.0/firebase.js"></script>

  <script>
    var config = {
      apiKey: "AIzaSyAzk4x5BukIC0N0yiDC9O4nfe1vn_7GUxM",
      authDomain: "foodapp-4ebf0.web.app",
      databaseURL: "https://foodapp-4ebf0.firebaseio.com",
      storageBucket: "foodapp-4ebf0.appspot.com",
    };
    firebase.initializeApp(config);
  </script> -->

  <script>
    firebase.auth().onAuthStateChanged(function (user) {
      if (user) {
        console.log(user.uid + " is logged in!");
        // window.location = 'https://connect.stripe.com/express/oauth/authorize?redirect_uri=https://us-central1-foodapp-4ebf0.cloudfunctions.net/createConnectAccount&client_id=ca_FJy4SUnn4WnkK81JVAR5CZhwEACACSIO&state={STATE_VALUE}';
      } else {
        console.log('User is logged out!');
      }
      // window.user = user;
      // window.location = 'https://connect.stripe.com/express/oauth/authorize?redirect_uri=https://us-central1-foodapp-4ebf0.cloudfunctions.net/createConnectAccount&client_id=ca_FJy4SUnn4WnkK81JVAR5CZhwEACACSIO&state={STATE_VALUE}';
      // window.location = "/authorize"
      // var displayName = user.displayName;

    });
  </script> -->

  <script>
    document.querySelector('#sign-in').addEventListener('click', function (e) {
      e.preventDefault();
      e.stopPropagation();
      var email = document.querySelector('#email').value;
      var password = document.querySelector('#password').value
      var credential = firebase.auth.EmailAuthProvider.credential(email, password);
      var auth = firebase.auth();
      var currentUser = auth.currentUser;
    });

    document.querySelector('#sign-out').addEventListener('click', function (e) {
      e.preventDefault();
      e.stopPropagation();
      firebase.auth().signOut();
    });
  </script>
</body>

</html>